language: java
dist: trusty
sudo: true
jdk:
  - oraclejdk8
  - openjdk11
addons:
  firefox: latest # https://docs.travis-ci.com/user/firefox
  chrome: stable # https://docs.travis-ci.com/user/chrome
install:
  - ./mvnw test-compile -DskipTests
before_script:
  # https://docs.travis-ci.com/user/gui-and-headless-browsers/
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start
script:
  - ./mvnw test integration-test verify jacoco:report
after_success:
  - ./mvnw coveralls:report
branches:
  only:
    - master
notifications:
  email:
    on_success: never
    on_failure: change
